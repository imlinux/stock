<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <title>货币供应量</title>
    <meta charset="utf-8">
    <script type="text/javascript" src="js/echarts.js"></script>
    <script type="text/javascript" src="js/jquery.js"></script>
</head>
<body>
    <div id="main" style="width: 100%;height:800px;"></div>
    <script type="text/javascript">
        var myChart = echarts.init(document.getElementById('main'));

        var option = {
            title: {
                text: ''
            },
            legend: {
                data:['M0同比增长', 'M1同比增长', 'M2同比增长']
            },
            tooltip: {
                trigger: 'axis'
            },
            dataZoom: [
                {
                    show: true,
                    realtime: true
                }
            ],
            xAxis: {
                type:'category'
            },
            yAxis: {
                name:'同比',
                type:'value'
            },
            series: [{
                name: 'M0同比增长',
                type: 'line'
            }, {
                name: 'M1同比增长',
                type: 'line'
            }, {
                name: 'M2同比增长',
                type: 'line'
            }]
        };
        myChart.setOption(option);
        
        $.get("/money_supply/get_all", function (data) {

            var month = [];
            var m0yoy = [];
            var m1yoy = [];
            var m2yoy = [];

            for(var i = 0; i < data.length; i++) {
                month.push(data[i].month);
                m0yoy.push(data[i].m0yoy);
                m1yoy.push(data[i].m1yoy);
                m2yoy.push(data[i].m2yoy)
            }
            myChart.setOption({
                xAxis: {
                    data: month
                },
                series: [ {
                    name:'M0同比增长',
                    data: m0yoy
                }, {
                    name:'M1同比增长',
                    data: m1yoy
                }, {
                    name:'M2同比增长',
                    data: m2yoy
                }]
            });
        })
    </script>
</body>
</html>